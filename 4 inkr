void MainWindow::openButtonClick(){
	imgPath = textLabel->text();
	openImage();
	update();}


mainwindow.h

#include <QtWidgets>
#ifndef MAINWINDOW_H
#define MAINWINDOW_H

class MainWindow : public QMainWindow{
	public:
		MainWindow();
		void openButtonClick();
		void openImage(const QString & path=QString() );
	protected:
		void paintEvent(QPaintEvent *event);
	private:
		QLabel *textLabel;
		QPushButton *openButton;
		QLineEdit *pathEdit;
		QPainter *painter;
		QPixmap pixmap;
		QString imgPath;
	};		
	
#endif

anim.cpp

#include <QtWidgets>
#include <mainwindow.h>

int main(int argc,char *argv[]){
	QApplication app(argc,argv);
	MainWindow mainWin;
	mainWin.show();
	return app.exec();
}


anim.pro

QT += widgets
SOURCES += anim.cpp mainwindow.h mainwindow.cpp
